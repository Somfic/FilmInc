{"version":3,"sources":["webpack:///./src/views/Users.vue","webpack:///./src/services/users.js","webpack:///./src/views/Users.vue?b2ef"],"names":["class","for","newItem","users","item","_id","user","key","setActive","name","type","uid","placeholder","pattern","inputmode","code","isAdmin","id","isNew","actions","newActions","update","editActions","axios","require","default","url","apiServer","config","headers","Authorization","cacheService","read","UserService","Promise","resolve","reject","get","then","res","catch","err","authCheck","response","post","put","delete","data","passcode","message","action","create","edit","methods","this","created","components","Navbar","Footer","Action","render"],"mappings":"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","file":"js/chunk-2d2308ce.2b9fd950.js","sourcesContent":["<template>\n  <div class=\"users\">\n    <Navbar></Navbar>\n    <div class=\"row\">\n      <div class=\"col-3\">\n        <div class=\"list-group\">\n          <div class=\"list-group-item list-group-item-action\" @click=\"newItem\">\n            <i class=\"fas fa-plus-circle pr-3\" />Nieuw\n          </div>\n          <div\n            class=\"list-group-item list-group-item-action\"\n            v-for=\"item in users\"\n            :key=\"item\"\n            :class=\"{ active: item._id == user._id }\"\n            @click=\"setActive(item)\"\n          >\n            {{ item.name }}\n          </div>\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <div class=\"form-group row\">\n          <label for=\"name\" class=\"col-form-label col-sm-4\">Naam</label>\n          <div class=\"col-sm-8\">\n            <input class=\"form-control\" type=\"text\" v-model=\"user.name\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"name\" class=\"col-form-label col-sm-4\">Inlog</label>\n          <div class=\"col-sm-8\">\n            <input class=\"form-control\" type=\"number\" v-model=\"user.uid\" />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"name\" class=\"col-form-label col-sm-4\">Pincode</label>\n          <div class=\"col-sm-8\">\n            <input\n              class=\"form-control\"\n              type=\"password\"\n              placeholder=\"••••\"\n              pattern=\"[0-9]{4}\"\n              inputmode=\"numeric\"\n              v-model=\"user.code\"\n            />\n          </div>\n        </div>\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input\"\n            type=\"checkbox\"\n            v-model=\"user.isAdmin\"\n            id=\"defaultCheck1\"\n          />\n          <label class=\"form-check-label\" for=\"defaultCheck1\">\n            Is Administrator\n          </label>\n        </div>\n        <div class=\"row mt-3\">\n          <Action\n            v-if=\"isNew\"\n            :actions=\"newActions\"\n            @executed=\"update\"\n          ></Action>\n          <Action\n            v-if=\"!isNew\"\n            :actions=\"editActions\"\n            @executed=\"update\"\n          ></Action>\n        </div>\n      </div>\n    </div>\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport Navbar from \"../components/navbar/Navbar\";\nimport Footer from \"../components/footer/Footer\";\nimport Action from \"../components/action/Action\";\nimport userService from \"../services/users\";\n\nexport default {\n  name: \"Users\",\n  data() {\n    return {\n      users: [],\n      user: {},\n      passcode: \"\",\n      isNew: true,\n      newActions: [\n        {\n          message: \"Maak gebruiker aan\",\n          class: \"btn-dark\",\n          action: () => userService.create(this.user),\n        },\n      ],\n      editActions: [\n        {\n          message: \"Sla wijzigingen op\",\n          class: \"btn-dark\",\n          action: () => userService.edit(this.user._id, this.user),\n        },\n      ],\n    };\n  },\n  methods: {\n    newItem() {\n      this.user = {};\n      this.isNew = true;\n    },\n\n    setActive(item) {\n      this.isNew = false;\n      this.user = item;\n    },\n\n    update() {\n      userService.get().then((res) => {\n        this.users = res.data;\n      });\n    },\n  },\n  async created() {\n    this.update();\n  },\n  components: {\n    Navbar,\n    Footer,\n    Action,\n  },\n};\n</script>\n","const axios = require(\"axios\").default;\nconst url = require(\"../config/config\").apiServer + \"/user\";\n\nimport cacheService from \"./cache\";\nimport authCheck from \"./middleware/auth\";\n\nconst config = {\n    headers: { Authorization: `Bearer ${cacheService.read(\"token\")}` },\n};\n\nclass UserService {\n    static get() {\n        return new Promise((resolve, reject) => {\n            axios\n                .get(url, config)\n                .then((res) => {\n                    resolve(res);\n                })\n                .catch((err) => {\n                    authCheck(err);\n                    reject(err.response);\n                });\n        });\n    }\n\n    static create(item) {\n        return new Promise((resolve, reject) => {\n            axios\n                .post(url, item, config)\n                .then((res) => {\n                    resolve(res);\n                })\n                .catch((err) => {\n                    authCheck(err);\n                    reject(err.response);\n                });\n        });\n    }\n\n    static edit(id, item) {\n        return new Promise((resolve, reject) => {\n            axios\n                .put(url + \"/\" + id, item, config)\n                .then((res) => {\n                    resolve(res);\n                })\n                .catch((err) => {\n                    authCheck(err);\n                    reject(err.response);\n                });\n        });\n    }\n\n    static delete(id) {\n        return new Promise((resolve, reject) => {\n            axios\n                .delete(url + \"/\" + id, config)\n                .then((res) => {\n                    resolve(res);\n                })\n                .catch((err) => {\n                    authCheck(err);\n                    reject(err.response);\n                });\n        });\n    }\n}\n\nexport default UserService;","import { render } from \"./Users.vue?vue&type=template&id=7e3ec9d4\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}