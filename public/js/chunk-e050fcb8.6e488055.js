(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e050fcb8"],{1276:function(t,e,n){"use strict";var c=n("d784"),i=n("44e7"),a=n("825a"),r=n("1d80"),s=n("4840"),l=n("8aa5"),o=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),f=[].push,p=Math.min,b=4294967295,m=!h((function(){return!RegExp(b,"y")}));c("split",2,(function(t,e,n){var c;return c="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var c=String(r(this)),a=void 0===n?b:n>>>0;if(0===a)return[];if(void 0===t)return[c];if(!i(t))return e.call(c,t,a);var s,l,o,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=new RegExp(t.source,h+"g");while(s=d.call(m,c)){if(l=m.lastIndex,l>p&&(u.push(c.slice(p,s.index)),s.length>1&&s.index<c.length&&f.apply(u,s.slice(1)),o=s[0].length,p=l,u.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===c.length?!o&&m.test("")||u.push(""):u.push(c.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=r(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i,n):c.call(String(i),e,n)},function(t,i){var r=n(c,t,this,i,c!==e);if(r.done)return r.value;var d=a(t),h=String(this),f=s(d,RegExp),v=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),j=new f(m?d:"^(?:"+d.source+")",g),O=void 0===i?b:i>>>0;if(0===O)return[];if(0===h.length)return null===u(j,h)?[h]:[];var w=0,x=0,y=[];while(x<h.length){j.lastIndex=m?x:0;var E,T=u(j,m?h:h.slice(x));if(null===T||(E=p(o(j.lastIndex+(m?0:x)),h.length))===w)x=l(h,x,v);else{if(y.push(h.slice(w,x)),y.length===O)return y;for(var C=1;C<=T.length-1;C++)if(y.push(T[C]),y.length===O)return y;x=w=E}}return y.push(h.slice(w)),y}]}),!m)},"14c3":function(t,e,n){var c=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==c(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"1dde":function(t,e,n){var c=n("d039"),i=n("b622"),a=n("2d00"),r=i("species");t.exports=function(t){return a>=51||!c((function(){var e=[],n=e.constructor={};return n[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"22f0":function(t,e,n){"use strict";n("d3b7");var c=n("d4ec"),i=n("bee2"),a=n("a18c"),r=n("2ea1"),s=n("bc3a").default,l=n("a078").apiServer+"/scheduled",o={headers:{Authorization:"Bearer ".concat(r["a"].read("token"))}},u=function(){function t(){Object(c["a"])(this,t)}return Object(i["a"])(t,null,[{key:"get",value:function(){return new Promise((function(t,e){s.get(l,o).then((function(e){t(e)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),e(t.response)}))}))}},{key:"create",value:function(t){return new Promise((function(e,n){s.post(l,t,o).then((function(t){e(t)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),n(t.response)}))}))}},{key:"edit",value:function(t,e){return new Promise((function(n,c){s.put(l+"/"+t,e,o).then((function(t){n(t)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),c(t.response)}))}))}},{key:"editMany",value:function(t){return new Promise((function(e,n){s.put(l,t,o).then((function(t){e(t)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),n(t.response)}))}))}},{key:"delete",value:function(t){return new Promise((function(e,n){s.delete(l+"/"+t,o).then((function(t){e(t)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),n(t.response)}))}))}},{key:"dupe",value:function(t){return new Promise((function(e,n){s.post(l+"/"+t,o).then((function(t){e(t)})).catch((function(t){401==t.response.status&&a["a"].push("/auth"),n(t.response)}))}))}}]),t}();e["a"]=u},"44e7":function(t,e,n){var c=n("861d"),i=n("c6b6"),a=n("b622"),r=a("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},"4de4":function(t,e,n){"use strict";var c=n("23e7"),i=n("b727").filter,a=n("1dde"),r=n("ae40"),s=a("filter"),l=r("filter");c({target:"Array",proto:!0,forced:!s||!l},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},6547:function(t,e,n){var c=n("a691"),i=n("1d80"),a=function(t){return function(e,n){var a,r,s=String(i(e)),l=c(n),o=s.length;return l<0||l>=o?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===o||(r=s.charCodeAt(l+1))<56320||r>57343?t?s.charAt(l):a:t?s.slice(l,l+2):r-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"7db0":function(t,e,n){"use strict";var c=n("23e7"),i=n("b727").find,a=n("44d2"),r=n("ae40"),s="find",l=!0,o=r(s);s in[]&&Array(1)[s]((function(){l=!1})),c({target:"Array",proto:!0,forced:l||!o},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},8316:function(t,e,n){"use strict";n("cbe9")},"8aa5":function(t,e,n){"use strict";var c=n("6547").charAt;t.exports=function(t,e,n){return e+(n?c(t,e).length:1)}},9263:function(t,e,n){"use strict";var c=n("ad6d"),i=n("9f7f"),a=RegExp.prototype.exec,r=String.prototype.replace,s=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),o=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||o;d&&(s=function(t){var e,n,i,s,d=this,h=o&&d.sticky,f=c.call(d),p=d.source,b=0,m=t;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,b++),n=new RegExp("^(?:"+p+")",f)),u&&(n=new RegExp("^"+p+"$(?!\\s)",f)),l&&(e=d.lastIndex),i=a.call(h?n:d,m),h?i?(i.input=i.input.slice(b),i[0]=i[0].slice(b),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:l&&i&&(d.lastIndex=d.global?i.index+i[0].length:e),u&&i&&i.length>1&&r.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"9f7f":function(t,e,n){"use strict";var c=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=c((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=c((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var c=n("23e7"),i=n("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},cbe9:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var c=n("6eeb"),i=n("d039"),a=n("b622"),r=n("9263"),s=n("9112"),l=a("species"),o=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var p=a(t),b=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),m=b&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!b||!m||"replace"===t&&(!o||!u||h)||"split"===t&&!f){var v=/./[p],g=n(p,""[t],(function(t,e,n,c,i){return e.exec===r?b&&!i?{done:!0,value:v.call(e,n,c)}:{done:!0,value:t.call(n,e,c)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),j=g[0],O=g[1];c(String.prototype,t,j),c(RegExp.prototype,p,2==e?function(t,e){return O.call(t,this,e)}:function(t){return O.call(t,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},e1cf:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),i={class:"scheduled"};function a(t,e,n,a,r,s){var l=Object(c["x"])("Timeline"),o=Object(c["x"])("EditScheduled"),u=Object(c["x"])("Action");return Object(c["q"])(),Object(c["d"])("div",i,[Object(c["h"])(l,{items:r.items,onSelected:s.selected,onNew:s.newItem},null,8,["items","onSelected","onNew"]),Object(c["h"])(o,{populateWith:r.scheduled},null,8,["populateWith"]),Object(c["h"])(u,{actions:r.actions},null,8,["actions"])])}n("96cf");var r=n("1da1"),s=(n("a4d3"),n("e01a"),{class:"edit-schedule"}),l={class:"row"},o={class:"col"},u={class:"form-group"},d=Object(c["h"])("label",{for:"watchable"},"Voorstelling",-1),h={class:"col"},f={class:"form-group"},p=Object(c["h"])("label",{for:"date"},"Datum",-1),b={class:"col"},m={class:"form-group"},v=Object(c["h"])("label",{for:"start"},"Start tijd",-1),g={class:"col"},j={class:"form-group"},O=Object(c["h"])("label",{for:"end"},"Eind tijd",-1),w={class:"col"},x=Object(c["h"])("label",null,"Zaal",-1),y={class:"btn-group"},E={class:"row"},T={class:"col-auto"},C={class:"col"};function I(t,e,n,i,a,r){return Object(c["q"])(),Object(c["d"])("div",s,[Object(c["h"])("div",l,[Object(c["h"])("div",o,[Object(c["h"])("div",u,[d,Object(c["E"])(Object(c["h"])("select",{onChange:e[1]||(e[1]=function(){return r.changedWatchable.apply(r,arguments)}),"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.scheduled.watchableId=t}),type:"text",class:"form-control",id:"watchable",placeholder:"Titel"},[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.watchables,(function(t){return Object(c["q"])(),Object(c["d"])("option",{key:t,value:t._id},Object(c["z"])(t.title),9,["value"])})),128))],544),[[c["B"],a.scheduled.watchableId]])])]),Object(c["h"])("div",h,[Object(c["h"])("div",f,[p,Object(c["E"])(Object(c["h"])("input",{onChange:e[3]||(e[3]=function(){return r.calcEndTime.apply(r,arguments)}),"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.scheduled.date=t}),class:"form-control",type:"date",name:"",minDate:"0",id:"date"},null,544),[[c["C"],a.scheduled.date]])])]),Object(c["h"])("div",b,[Object(c["h"])("div",m,[v,Object(c["E"])(Object(c["h"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return a.scheduled.start=t}),onChange:e[6]||(e[6]=function(){return r.calcEndTime.apply(r,arguments)}),class:"form-control",type:"time",name:"",id:"start"},null,544),[[c["C"],a.scheduled.start]])])]),Object(c["h"])("div",g,[Object(c["h"])("div",j,[O,Object(c["E"])(Object(c["h"])("input",{"onUpdate:modelValue":e[7]||(e[7]=function(t){return a.scheduled.end=t}),class:"form-control",type:"time",name:"",id:"end",disabled:""},null,512),[[c["C"],a.scheduled.end]])])]),Object(c["h"])("div",w,[x,Object(c["h"])("div",y,[(Object(c["q"])(),Object(c["d"])(c["a"],null,Object(c["w"])(6,(function(t){return Object(c["h"])("button",{key:t,class:["btn",{"btn-primary":a.scheduled.location==t,"btn-light":a.scheduled.location!=t}],onClick:function(e){return r.setLocation(t)}},Object(c["z"])(t),11,["onClick"])})),64))])])]),Object(c["h"])("div",E,[Object(c["h"])("div",T,[Object(c["h"])("img",{class:"img-fluid",src:a.watchable.poster,alt:""},null,8,["src"])]),Object(c["h"])("div",C,[Object(c["h"])("h1",null,Object(c["z"])(a.watchable.title),1),Object(c["h"])("p",null,Object(c["z"])(a.watchable.description),1)])])])}n("7db0"),n("ac1f"),n("1276");var k=n("e8d9"),R={name:"Scheduled",props:{populateWith:Object},watch:{populateWith:function(){this.scheduled=this.populateWith,this.scheduled.date=this.scheduled.date.split("T")[0],this.changedWatchable()}},data:function(){return{watchables:[],scheduled:{location:0},watchable:{poster:""}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].get();case 2:n=e.sent,t.watchables=n.data;case 4:case"end":return e.stop()}}),e)})))()},methods:{calcEndTime:function(){try{var t=new Date(this.scheduled.date+" "+this.scheduled.start),e=this.watchable.length,n=new Date(t.getTime()+6e4*e);this.scheduled.end=this.addLeading(n.getHours())+":"+this.addLeading(n.getMinutes())}catch(c){this.scheduled.end=NaN}},changedWatchable:function(){var t=this;this.watchable=this.watchables.find((function(e){return e._id==t.scheduled.watchableId})),this.scheduled.watchableId=this.watchable._id,this.scheduled.watchableTitle=this.watchable.title,this.calcEndTime()},setLocation:function(t){this.scheduled.location=t},addLeading:function(t){return parseInt(t)<10?"0"+t:t}}};R.render=I;var S=R,A=(n("4de4"),Object(c["G"])("data-v-674fe097"));Object(c["t"])("data-v-674fe097");var M={class:"timeline"},P={class:"row"},_={class:"col-2"},q={class:"form-group"},U=Object(c["h"])("label",{for:"start"},"Start tijd",-1),z=Object(c["h"])("div",{class:"col"},null,-1),N={class:"col-auto"},B=Object(c["h"])("div",{class:"col"},null,-1),D={class:"col-2"},$={class:"form-group"},W=Object(c["h"])("label",{for:"start"},"Eind tijd",-1),L=Object(c["h"])("i",{class:"fas fa-plus-circle"},null,-1);Object(c["r"])();var V=A((function(t,e,n,i,a,r){var s=this,l=Object(c["x"])("Action"),o=Object(c["x"])("TimelineItem");return Object(c["q"])(),Object(c["d"])("div",M,[Object(c["h"])("div",P,[Object(c["h"])("div",_,[Object(c["h"])("div",q,[U,Object(c["E"])(Object(c["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.startTime=t}),class:"form-control",type:"time",onChange:e[2]||(e[2]=function(){return r.setColumns.apply(r,arguments)})},null,544),[[c["C"],a.startTime]])])]),z,Object(c["h"])("div",N,[Object(c["h"])(l,{actions:a.actions},null,8,["actions"])]),B,Object(c["h"])("div",D,[Object(c["h"])("div",$,[W,Object(c["E"])(Object(c["h"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.endTime=t}),class:"form-control",type:"time",onChange:e[4]||(e[4]=function(){return r.setColumns.apply(r,arguments)})},null,544),[[c["C"],a.endTime]])])])]),Object(c["h"])("div",{class:"timeline-grid",style:{"grid-template-columns":a.columnStyle}},[(Object(c["q"])(),Object(c["d"])(c["a"],null,Object(c["w"])(6,(function(t){return Object(c["h"])("div",{class:"location px-3 badge align-self-center",key:t,style:{"grid-row":t+1}},Object(c["z"])(t),5)})),64)),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.timestamps,(function(t){return Object(c["q"])(),Object(c["d"])("small",{class:"timestamp text-muted",key:t,style:{"grid-column-start":s.getColumn(t)}},Object(c["z"])(t),5)})),128)),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.buttons,(function(t){return Object(c["q"])(),Object(c["d"])("div",{key:t,style:{"grid-column-start":t.columnStart,"grid-column-end":t.columnEnd,"grid-row":t.row},onClick:function(e){return r.hasClicked(t)},class:"new-item border d-flex align-items-center justify-content-center"},[L],12,["onClick"])})),128)),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.items.filter((function(t){return r.shouldBeShown(t)})),(function(t){return Object(c["q"])(),Object(c["d"])(o,{key:t,item:t,onActive:function(e){return r.active(t)},style:{"grid-column-start":s.getColumn(t.start),"grid-column-end":s.getColumn(t.end),"grid-row":s.getRow(t.location)}},null,8,["item","onActive","style"])})),128))],4)])})),K={class:"font-weight-bold"};function G(t,e,n,i,a,r){return Object(c["q"])(),Object(c["d"])("button",{class:["btn border-left px-2 border-bottom border-right py-1 text-nowrap d-flex flex-column justify-content-center",{"bg-dark text-light":!n.isActive,active:n.isActive}],onClick:e[1]||(e[1]=function(t){return r.active(n.item)})},[Object(c["h"])("span",K,Object(c["z"])(n.item.watchableTitle),1),Object(c["h"])("small",null,Object(c["z"])(n.item.start)+" - "+Object(c["z"])(n.item.end),1)],2)}var J={name:"TimelineItem",props:{item:Object,isActive:Boolean},methods:{active:function(t){this.$emit("active",t)}}};J.render=G;var Y=J,F=n("165a"),H=n("22f0"),X={name:"Timeline",components:{TimelineItem:Y,Action:F["a"]},props:{items:Array},data:function(){var t=this;return{startTime:"10:00",endTime:"14:00",columnStyle:"",timestamps:[],buttons:[],actions:[{message:"Sla op",class:"btn-dark",action:function(){return H["a"].editMany(t.items)}}]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.setColumns();case 1:case"end":return e.stop()}}),e)})))()},methods:{active:function(t){this.$emit("selected",t)},getColumn:function(t){var e=this.totalMinutes(t),n=e,c=this.totalMinutes(this.startTime);return Math.max(2,Math.min(n-c,this.totalColumns())+1)},getRow:function(t){return parseInt(t)+1},totalMinutes:function(t){var e=parseInt(t.split(":")[0]),n=parseInt(t.split(":")[1]);return 60*e+n},totalColumns:function(){var t=this.totalMinutes(this.startTime),e=this.totalMinutes(this.endTime),n=e-t;return n},setColumns:function(){var t=this.totalColumns();this.columnStyle="auto repeat("+t+", 1fr)";var e=parseInt(this.startTime.split(":")[0]),n=parseInt(this.startTime.split(":")[1]);this.timestamps=[];while(e<this.endTime.split(":")[0]||n<this.endTime.split(":")[1])n<10?this.timestamps.push(e+":0"+n):this.timestamps.push(e+":"+n),n+=15,n>=60&&(n=0,e++);for(var c=0;c<this.timestamps.length;c++){var i=c+1;i==this.timestamps.length&&(i=c);for(var a=this.timestamps[c],r=this.timestamps[i],s=this.getColumn(a),l=this.getColumn(r),o=0;o<6;o++)this.buttons.push({start:a,end:r,row:o+2,columnStart:s,columnEnd:l})}},shouldBeShown:function(t){return this.totalMinutes(t.end)>this.totalMinutes(this.startTime)&&this.totalMinutes(t.start)<this.totalMinutes(this.endTime)},hasClicked:function(t){this.$emit("new",{start:t.start,end:t.end,location:t.row-1,date:Date.now()})}}};n("8316");X.render=V,X.__scopeId="data-v-674fe097";var Z=X,Q={name:"Scheduled",components:{Timeline:Z,EditScheduled:S},data:function(){var t=this;return{items:[],scheduled:{},actions:[{message:"Sla wijzigingen op",class:"btn-dark",action:function(){return H["a"].editMany(t.items)}}]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H["a"].get();case 2:n=e.sent,console.log(n.data),t.items=n.data;case 5:case"end":return e.stop()}}),e)})))()},methods:{selected:function(t){this.scheduled=t},newItem:function(t){this.items.push({start:t.start,end:t.end,location:t.location,date:t.date})}}};Q.render=a;e["default"]=Q}}]);
//# sourceMappingURL=chunk-e050fcb8.6e488055.js.map